{
    "nodes": [
        {
            "parameters": {},
            "type": "n8n-nodes-base.manualTrigger",
            "typeVersion": 1,
            "position": [
                272,
                -320
            ],
            "id": "36edfbb6-3c03-45a8-a2f9-b95610e3af81",
            "name": "When clicking â€˜Execute workflowâ€™"
        },
        {
            "parameters": {
                "assignments": {
                    "assignments": [
                        {
                            "id": "43671f93-0a9f-426f-92a6-cf5efbe7a40b",
                            "name": "trendUrl",
                            "value": "https://trends.google.co.jp/trending/rss?geo=JP",
                            "type": "string"
                        }
                    ]
                },
                "options": {}
            },
            "type": "n8n-nodes-base.set",
            "typeVersion": 3.4,
            "position": [
                480,
                -320
            ],
            "id": "73ba1112-3475-4f7b-ba7d-89f63b0811bc",
            "name": "Edit Fields"
        },
        {
            "parameters": {
                "promptType": "define",
                "text": "={{ $json.data }}",
                "hasOutputParser": true,
                "options": {
                    "systemMessage": "ã‚ãªãŸã¯å„ªç§€ãªç·¨é›†é•·ã§ã™ã€‚å…¥åŠ›ã•ã‚ŒãŸRSSãƒ•ã‚£ãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰ã€ä»Šæœ€ã‚‚SNSã§è©±é¡Œã«ãªã‚Šãã†ãªã€Œã‚¬ã‚¸ã‚§ãƒƒãƒˆã€ã€ŒAIæŠ€è¡“ã€ã€Œãƒ©ã‚¤ãƒ•ãƒãƒƒã‚¯ã€ã«é–¢ã™ã‚‹ãƒã‚¿ã‚’1ã¤ã ã‘é¸å®šã—ã¦ãã ã•ã„ã€‚\n\né¸å®šåŸºæº–:\n- æ¤œç´¢ãƒœãƒªãƒ¥ãƒ¼ãƒ ã®æ€¥ä¸Šæ˜‡\n- SNSã§ã®ãƒã‚¤ãƒ©ãƒ«æ€§\n- ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤ã¸ã®é–¢é€£æ€§\n\nå‡ºåŠ›ã¯ä»¥ä¸‹ã®JSONå½¢å¼ã®ã¿ã§è¡Œã£ã¦ãã ã•ã„ã€‚"
                }
            },
            "type": "@n8n/n8n-nodes-langchain.agent",
            "typeVersion": 3.1,
            "position": [
                928,
                -320
            ],
            "id": "247a4d4d-19b0-483b-bbeb-a26e38d318ee",
            "name": "AI Agent"
        },
        {
            "parameters": {
                "promptType": "define",
                "text": "={{ $json.output.selected_topic }}",
                "options": {
                    "systemMessage": "ã‚ãªãŸã¯SEOã«ç²¾é€šã—ãŸãƒ—ãƒ­ã®ãƒ–ãƒ­ã‚°ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚\n\nã‚ãªãŸã®ã‚¿ã‚¹ã‚¯:\n1. æä¾›ã•ã‚ŒãŸãƒˆãƒ”ãƒƒã‚¯ã«ã¤ã„ã¦ã€SEOã‚’æ„è­˜ã—ãŸ3000æ–‡å­—ç¨‹åº¦ã®ãƒ–ãƒ­ã‚°è¨˜äº‹æ§‹æˆæ¡ˆã‚’ä½œæˆã™ã‚‹\n2. çµè«–ãƒ•ã‚¡ãƒ¼ã‚¹ãƒˆã§æ›¸ã\n3. H1, H2, H3ã®è¦‹å‡ºã—æ§‹é€ ã‚’æ˜ç¢ºã«ã™ã‚‹\n4. æ¤œç´¢æ„å›³ã‚’æº€ãŸã™ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã«ã™ã‚‹\n5. èª­è€…ã«ä¾¡å€¤ã‚’æä¾›ã™ã‚‹å®Ÿç”¨çš„ãªæƒ…å ±ã‚’å«ã‚ã‚‹\n\nå‡ºåŠ›å½¢å¼:\n- H1: ãƒ¡ã‚¤ãƒ³ã‚¿ã‚¤ãƒˆãƒ«\n- å°å…¥ï¼ˆçµè«–ã‚’å…ˆã«è¿°ã¹ã‚‹ï¼‰\n- H2: ã‚»ã‚¯ã‚·ãƒ§ãƒ³1\n  - H3: ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n- H2: ã‚»ã‚¯ã‚·ãƒ§ãƒ³2\n  - H3: ã‚µãƒ–ã‚»ã‚¯ã‚·ãƒ§ãƒ³\n- ã¾ã¨ã‚"
                }
            },
            "type": "@n8n/n8n-nodes-langchain.agent",
            "typeVersion": 3.1,
            "position": [
                1248,
                -320
            ],
            "id": "05ff10ee-386e-4da5-9a6c-e1d5d30503c8",
            "name": "AI Agent1"
        },
        {
            "parameters": {
                "select": "channel",
                "channelId": {
                    "__rl": true,
                    "value": "#all-monitaring-web-site",
                    "mode": "name"
                },
                "messageType": "block",
                "blocksUi": "={\n\t\"blocks\": [\n\t\t{\n\t\t\t\"type\": \"header\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\"text\": \"ğŸš€ æ–°ã—ã„ãƒˆãƒ¬ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼\",\n\t\t\t\t\"emoji\": true\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*ğŸ“ Blogæ§‹æˆæ¡ˆ (æŠœç²‹)*\\n\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"{{ $json.blog_content.slice(0, 500) }}...\\n_(é•·ã„ãŸã‚çœç•¥)_\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*ğŸ“¸ InstagramæŠ•ç¨¿æ¡ˆ*\\n..\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"divider\"\n\t\t},\n\t\t{\n\t\t\t\"type\": \"section\",\n\t\t\t\"text\": {\n\t\t\t\t\"type\": \"mrkdwn\",\n\t\t\t\t\"text\": \"*ğŸ¬ å‹•ç”»å°æœ¬*\\n...\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"type\": \"actions\",\n\t\t\t\"elements\": [\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \"âœ… æ‰¿èªã—ã¦ä¿å­˜\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"style\": \"primary\",\n\t\t\t\t\t\"url\": \"{{ $execution.resumeUrl }}?action=approve\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"type\": \"button\",\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"type\": \"plain_text\",\n\t\t\t\t\t\t\"text\": \"ğŸ—‘ å´ä¸‹\",\n\t\t\t\t\t\t\"emoji\": true\n\t\t\t\t\t},\n\t\t\t\t\t\"style\": \"danger\",\n\t\t\t\t\t\"url\": \"{{ $execution.resumeUrl }}?action=reject\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t]\n}",
                "text": "=ğŸš€ **æ–°ã—ã„ãƒˆãƒ¬ãƒ³ãƒ‰ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãŒç”Ÿæˆã•ã‚Œã¾ã—ãŸï¼**\n\n**é¸å®šãƒˆãƒ”ãƒƒã‚¯**: {{ $('AI Agent').item.json.output.selected_topic }}\n\n**ğŸ“ Blogæ§‹æˆæ¡ˆ**:\n{{ $('AI Agent1').item.json.output }}\n\n**ğŸ“¸ Instagramæ¡ˆ**:\n\n\n**ğŸ¬ Scriptæ¡ˆ**:\n\næ‰¿èªã—ã¦æŠ•ç¨¿äºˆç´„ã—ã¾ã™ã‹ï¼Ÿ",
                "otherOptions": {
                    "link_names": false
                }
            },
            "type": "n8n-nodes-base.slack",
            "typeVersion": 2.4,
            "position": [
                1808,
                -320
            ],
            "id": "cf8da122-66f7-48ee-8ae9-e610349fed72",
            "name": "Send a message",
            "webhookId": "eb2edbb3-288e-43d0-b40b-0590192d9331",
            "credentials": {
                "slackApi": {
                    "id": "BrAdrR4v2B3hQpFR",
                    "name": "Slack account"
                }
            }
        },
        {
            "parameters": {
                "resume": "webhook",
                "options": {}
            },
            "type": "n8n-nodes-base.wait",
            "typeVersion": 1.1,
            "position": [
                2032,
                -320
            ],
            "id": "3686269e-618a-4216-9c2f-d0c0273a7669",
            "name": "Wait",
            "webhookId": "e01bcaa5-f10d-4b14-b2d0-85fc626fef77"
        },
        {
            "parameters": {
                "conditions": {
                    "options": {
                        "caseSensitive": true,
                        "leftValue": "",
                        "typeValidation": "strict",
                        "version": 3
                    },
                    "conditions": [
                        {
                            "id": "1478bc25-b867-42ec-a0d6-a2fbff922252",
                            "leftValue": "={{ $json.query.action }}",
                            "rightValue": "approve",
                            "operator": {
                                "type": "string",
                                "operation": "equals",
                                "name": "filter.operator.equals"
                            }
                        }
                    ],
                    "combinator": "and"
                },
                "options": {}
            },
            "type": "n8n-nodes-base.if",
            "typeVersion": 2.3,
            "position": [
                2240,
                -320
            ],
            "id": "a7c11a0f-b0bb-45ca-a0e7-7927f99f053b",
            "name": "If"
        },
        {
            "parameters": {
                "model": "z-ai/glm-4.5-air:free",
                "options": {}
            },
            "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
            "typeVersion": 1,
            "position": [
                928,
                -144
            ],
            "id": "11eb22cd-5089-4c75-a76c-9dfdadc2b934",
            "name": "OpenRouter Chat Model",
            "credentials": {
                "openRouterApi": {
                    "id": "gSEqRINGzgQSF095",
                    "name": "OpenRouter account"
                }
            }
        },
        {
            "parameters": {
                "schemaType": "manual",
                "inputSchema": "{\n\t\"type\": \"object\",\n\t\"properties\": {\n\t\t\"selected_topic\": {\n\t\t\t\"type\": \"string\",\n            \"description\": \"é¸ã‚“ã ãƒˆãƒ”ãƒƒã‚¯ã®ã‚¿ã‚¤ãƒˆãƒ«\"\n\t\t},\n      \t\t\"reason\": {\n\t\t\t\"type\": \"string\",\n            \"description\": \"ãªãœã“ã‚Œã‚’é¸ã‚“ã ã‹ã®ç†ç”±\"\n\t\t},\n      \t\t\"target_audience\": {\n\t\t\t\"type\": \"string\",\n            \"description\": \"ã‚¿ãƒ¼ã‚²ãƒƒãƒˆå±¤\"\n\t\t}\n\t}\n}"
            },
            "type": "@n8n/n8n-nodes-langchain.outputParserStructured",
            "typeVersion": 1.3,
            "position": [
                1072,
                -144
            ],
            "id": "894b104f-130e-41d1-91bc-2206ba97efc4",
            "name": "Structured Output Parser"
        },
        {
            "parameters": {
                "model": "z-ai/glm-4.5-air:free",
                "options": {}
            },
            "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
            "typeVersion": 1,
            "position": [
                1392,
                -160
            ],
            "id": "b9e1321f-1ac2-4ece-8a9c-cb6a1bf2eb49",
            "name": "OpenRouter Chat Model1",
            "credentials": {
                "openRouterApi": {
                    "id": "gSEqRINGzgQSF095",
                    "name": "OpenRouter account"
                }
            }
        },
        {
            "parameters": {
                "content": "## æ°—ã«ãªã£ãŸã“ã¨\n- AI agentã˜ã‚ƒãªãClasifier nodeã§åˆ¤å®šã—ã¦ã€é–¢é€£ã—ãŸã‚‚ã®ã ã‘ã‚’Basic LLMã«æµã™ã®ã˜ã‚ƒã ã‚ãªã®ã‹ï¼Ÿ\nâ†’ å‡¦ç†ãŒçµæ§‹ã‚ã‚“ã©ãã•ã‹ã£ãŸ\n- Slackâ†’æ‰¿èªå¾…ã¡ã®ã“ã®waitãŒçµæ§‹ã„ã„ãªã“ã‚Œã€ä¿å­˜ã—ã¦ãŠãã‹",
                "height": 336,
                "width": 528
            },
            "type": "n8n-nodes-base.stickyNote",
            "position": [
                208,
                -544
            ],
            "typeVersion": 1,
            "id": "71919e2a-81b9-4225-9411-89ee2586545e",
            "name": "Sticky Note"
        },
        {
            "parameters": {
                "url": "={{ $json.trendUrl }}",
                "options": {}
            },
            "type": "n8n-nodes-base.httpRequest",
            "typeVersion": 4.3,
            "position": [
                720,
                -320
            ],
            "id": "a1b7c892-dcb3-4dd1-9cfe-ab1aa8cb02e6",
            "name": "Fetch the Google trends"
        },
        {
            "parameters": {
                "jsCode": "const text = $input.first().json.output;\n\nfunction clean(text) {\n  if (!text) return \"ç”Ÿæˆã‚¨ãƒ©ãƒ¼\";\n  return JSON.stringify(text).slice(1,-1)\n}\n\n// JSON.stringfyã¯ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚„é…åˆ—ã‚’ã€æ–‡å­—åˆ—ã«å¤‰æ›ã™ã‚‹å½¹å‰²\n// æ–‡å­—åˆ—ã«ä½¿ã£ã¦ã‚‚æ„å‘³ãŒãªã„\n\nreturn {\n  blog_content: clean(text || \"ãƒ‡ãƒ¼ã‚¿ãªã—\")\n};"
            },
            "type": "n8n-nodes-base.code",
            "typeVersion": 2,
            "position": [
                1568,
                -320
            ],
            "id": "266f1ff9-2fb3-4993-bdbd-8b2a6135a4a2",
            "name": "Code in JavaScript2"
        }
    ],
    "connections": {
        "When clicking â€˜Execute workflowâ€™": {
            "main": [
                [
                    {
                        "node": "Edit Fields",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Edit Fields": {
            "main": [
                [
                    {
                        "node": "Fetch the Google trends",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "AI Agent": {
            "main": [
                [
                    {
                        "node": "AI Agent1",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "AI Agent1": {
            "main": [
                [
                    {
                        "node": "Code in JavaScript2",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Send a message": {
            "main": [
                [
                    {
                        "node": "Wait",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Wait": {
            "main": [
                [
                    {
                        "node": "If",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "If": {
            "main": [
                []
            ]
        },
        "OpenRouter Chat Model": {
            "ai_languageModel": [
                [
                    {
                        "node": "AI Agent",
                        "type": "ai_languageModel",
                        "index": 0
                    }
                ]
            ]
        },
        "Structured Output Parser": {
            "ai_outputParser": [
                [
                    {
                        "node": "AI Agent",
                        "type": "ai_outputParser",
                        "index": 0
                    }
                ]
            ]
        },
        "OpenRouter Chat Model1": {
            "ai_languageModel": [
                [
                    {
                        "node": "AI Agent1",
                        "type": "ai_languageModel",
                        "index": 0
                    }
                ]
            ]
        },
        "Fetch the Google trends": {
            "main": [
                [
                    {
                        "node": "AI Agent",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        },
        "Code in JavaScript2": {
            "main": [
                [
                    {
                        "node": "Send a message",
                        "type": "main",
                        "index": 0
                    }
                ]
            ]
        }
    },
    "pinData": {},
    "meta": {
        "templateCredsSetupCompleted": true,
        "instanceId": "f07a7db4ed93e66e1e2d66a6dbb1b6f58e75dce88c79ca591af68b50df82ee3f"
    }
}